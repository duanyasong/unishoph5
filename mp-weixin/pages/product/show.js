(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/product/show"],{"03ca":function(t,a,s){"use strict";s.r(a);var e=s("4941"),i=s("5773");for(var c in i)"default"!==c&&function(t){s.d(a,t,function(){return i[t]})}(c);s("65ee");var n=s("2877"),l=Object(n["a"])(i["default"],e["a"],e["b"],!1,null,null,null);a["default"]=l.exports},"1a87":function(t,a,s){"use strict";s("53c4");var e=c(s("b0ce")),i=c(s("03ca"));function c(t){return t&&t.__esModule?t:{default:t}}Page((0,e.default)(i.default))},4411:function(t,a,s){},4941:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("view",[t.pageLoad?s("view",{staticClass:"main-body"},[t.pageData.imglist.length>0?s("view",[s("swiper",{attrs:{"indicator-dots":!0,autoplay:!0,interval:3e3,duration:1e3}},t._l(t.pageData.imglist,function(t,a){return s("swiper-item",{key:a,attrs:{mpcomid:"7c36e3e4-0-"+a}},[s("view",{staticClass:"swiper-item"},[s("image",{attrs:{src:t.imgurl}})])])}))],1):s("view",[s("image",{staticClass:"d-img",attrs:{src:t.pageData.data.imgurl}})]),s("view",{staticClass:"row-box mgb-5"},[s("view",{staticClass:"d-title"},[t._v(t._s(t.pageData.data.title))]),s("view",{staticClass:"flex flex-1 mgb-10"},[s("view",{staticClass:"flex-1 f20 cl-money"},[t._v("￥"+t._s(t.pageData.data.price))]),s("view",{staticClass:"market-price"},[t._v("￥"+t._s(t.pageData.data.market_price))])])]),s("view",{staticClass:"bg-fff pd-10 d-content"},[s("rich-text",{attrs:{type:"text",nodes:t.pageData.data.content,mpcomid:"7c36e3e4-1"}})],1),s("view",{staticClass:"flcart"},[t._m(0),s("view",{staticClass:"flcart-f1",attrs:{eventid:"7c36e3e4-0"},on:{click:function(a){t.goCart()}}},[s("view",{staticClass:"iconfont flcart-icon icon-cart"}),t._v("购物车")]),s("view",{staticClass:"flcart-f2",attrs:{eventid:"7c36e3e4-1"},on:{click:function(a){t.showCart()}}},[t._v("加入购物车")]),s("view",{staticClass:"flcart-f2",attrs:{eventid:"7c36e3e4-2"},on:{click:function(a){t.showCart()}}},[t._v("立即购买")])]),s("div",{staticClass:"cBox-mask",class:t.cBoxClass}),s("div",{staticClass:"cBox",class:t.cBoxClass},[s("div",{staticClass:"cBox-close",attrs:{eventid:"7c36e3e4-3"},on:{click:function(a){t.closeCart()}}}),s("div",{staticClass:"flex mgb-20"},[s("image",{staticClass:"wh-60",attrs:{src:t.pageData.data.imgurl+".100x100.jpg",mode:"widthFix"}}),s("div",{staticClass:"flex-1 mgl-10"},[s("div",{staticClass:"cl1 mgb-5"},[t._v(t._s(t.pageData.data.title))]),s("div",{staticClass:"flex"},[s("div",{staticClass:"cl-money f14 flex-jc-end"},[t._v("￥")]),s("div",{staticClass:"cl-money f22"},[t._v(t._s(t.pageData.data.price))])])])]),Object.keys(t.kslist).length>0?s("div",[s("div",{staticClass:"bd-mp-10"},[t._v("尺寸选择")]),s("view",{staticClass:"kslist bd-mp-10 "},[s("view",{staticClass:"kslist-label"},[t._v("颜色")]),t._l(t.kslist,function(a,e){return s("view",{key:e,staticClass:"kslist-item",class:a.ksClass,attrs:{eventid:"7c36e3e4-4-"+e},on:{click:function(s){t.getSize(a.id)}}},[t._v(t._s(a.title))])})],2)]):t._e(),Object.keys(t.kslist2).length>0?s("view",{staticClass:"kslist"},[s("view",{staticClass:"kslist-label"},[t._v("尺寸")]),s("view",{staticClass:"flex-1 flex"},t._l(t.kslist2,function(a,e){return s("view",{key:e,staticClass:"kslist-item",class:a.ksClass},[t._v(t._s(a.size))])}))]):t._e(),s("div",{staticClass:"mgb-5"},[t._v("数量")]),s("div",{staticClass:"flex mgb-10"},[s("view",{staticClass:"numbox"},[s("view",{staticClass:"numbox-minus",attrs:{eventid:"7c36e3e4-5"},on:{click:t.minus}},[t._v("-")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.num,expression:"num"}],staticClass:"numbox-num",attrs:{type:"text",value:t.num,eventid:"7c36e3e4-6"},domProps:{value:t.num},on:{input:function(a){a.target.composing||(t.num=a.target.value)}}}),s("view",{staticClass:"numbox-plus",attrs:{eventid:"7c36e3e4-7"},on:{click:t.plus}},[t._v("+")])])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"btn-small flex-1 mgr-20",attrs:{eventid:"7c36e3e4-8"},on:{click:function(a){t.goBuy()}}},[t._v("立即购买")]),s("div",{staticClass:"btn-small flex-1",attrs:{eventid:"7c36e3e4-9"},on:{click:function(a){t.addCart()}}},[t._v("加入购物车")])])])]):t._e()])},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("view",{staticClass:"flcart-f1"},[s("view",{staticClass:"iconfont flcart-icon icon-favor_fill_light"}),t._v("收藏")])}];s.d(a,"a",function(){return e}),s.d(a,"b",function(){return i})},5773:function(t,a,s){"use strict";s.r(a);var e=s("ceb0"),i=s.n(e);for(var c in e)"default"!==c&&function(t){s.d(a,t,function(){return e[t]})}(c);a["default"]=i.a},"65ee":function(t,a,s){"use strict";var e=s("4411"),i=s.n(e);i.a},ceb0:function(t,a,s){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=s("3b97"),i={data:function(){return{pageLoad:!1,pageData:{},cBoxClass:"none",ksid:0,id:0,num:1,kslist:[],kslist2:[]}},onLoad:function(t){this.id=t.id,this.getPage()},methods:{getPage:function(){var a=this;t.request({url:e.apiHost+"?m=product&ajax=1&a=show&id="+this.id,data:{authcode:e.getAuthCode()},success:function(t){a.pageLoad=!0,a.pageData=t.data.data,a.num=t.data.data.data.cart_num;var s=t.data.data.kslist;Object.keys(s).length>0&&(s[0].ksClass="kslist-active",a.ksid=s[0].id),a.kslist=s;var e=t.data.data.kslist2;Object.keys(e).length>0&&(e[0].ksClass="kslist-active"),a.kslist2=e}})},addCart:function(){var a=this;t.request({url:a.app.apiHost+"?m=order_cart&a=add&ajax=1&object_id="+a.id,data:{authcode:e.getAuthCode(),ksid:a.ksid,fromapp:a.app.fromapp(),amount:a.num},method:"GET",success:function(s){t.showToast({title:s.data.message}),s.data.error||(a.pageData.data.cart_num=1)}})},goHome:function(){e.goHome()},goCart:function(){e.goCart()},goBuy:function(){var a=this;t.request({url:a.app.apiHost+"?m=order_cart&a=add&ajax=1&object_id="+a.id,data:{authcode:e.getAuthCode(),ksid:a.ksid,fromapp:a.app.fromapp(),amount:a.num},method:"GET",success:function(a){t.showToast({title:a.data.message}),a.data.error||t.navigateTo({url:"/pages/order/confirm?cart_id="+a.data.data.cart_id})}})},showCart:function(){this.cBoxClass=""},closeCart:function(){this.cBoxClass="none"},minus:function(){var t=this.num;if(t<=1)return!1;this.num--},plus:function(){this.num++},getSize:function(a){var s=this,i=s.kslist;for(var c in i)a==i[c].id?i[c].ksClass="kslist-active":i[c].ksClass="";t.request({url:s.app.apiHost+"?m=product_ks&a=getSize&ajax=1&id="+a,data:{authcode:e.getAuthCode()},success:function(t){s.kslist2=t.data.data.kslist}})}}};a.default=i}).call(this,s("543d")["default"])}},[["1a87","common/runtime","common/vendor"]]]);